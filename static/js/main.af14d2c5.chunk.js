(window.webpackJsonpplanningpoker=window.webpackJsonpplanningpoker||[]).push([[0],{13:function(e,n,t){},14:function(e,n,t){},20:function(e,n,t){"use strict";t.r(n);var r,a=t(0),o=t.n(a),c=t(6),l=t.n(c),i=(t(13),t(1)),u=t(2),s=(t(14),function(e){var n=e.children,t=e.color,r=e.onClick,a=e.size;return o.a.createElement("div",{className:"card",style:{width:a||150,height:a||150,flex:1,justifyContent:"center",alignItems:"center",margin:8,background:t||"#fff",display:"inline-block"},onClick:r},n)}),f=function(e){var n=e.ownId,t=e.users,r=Object.keys(t).filter((function(e){return!!t[e]&&!!t[e].value})).length===Object.keys(t).length;return o.a.createElement("div",null,Object.keys(t).map((function(e){return o.a.createElement(s,{key:e},o.a.createElement("div",null,o.a.createElement("div",{style:{padding:16}},t[e].name),o.a.createElement("div",{style:{fontSize:80}},function(e){return void 0===t[e].value?"_":e===n?t[e].value:r?t[e].value:"?"}(e))))})))},v=[{value:"0",color:"#fff"},{value:"1",color:"#afa"},{value:"2",color:"#5f5"},{value:"3",color:"yellow"},{value:"5",color:"orange"},{value:"8",color:"red"},{value:"13",color:"violet"},{value:"20",color:"#bbb"},{value:"\ud83e\udd14",color:"#fff"}],d=function(e){var n=e.currentSelection,t=e.onClick;return o.a.createElement("div",null,v.map((function(e){var r=e.value,a=e.color;return o.a.createElement(s,{key:r,color:n?n===r?a:"white":a,size:50,onClick:function(){return t(r)}},o.a.createElement("div",{style:{fontSize:35}},r))})))},m=t(7),b=t.n(m);!function(e){e.CurrentValue="current_value",e.Leave="leave",e.RequestCurrentValue="request_current_value",e.Reset="reset"}(r||(r={}));var p=t(3),y=t.n(p);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(t,!0).forEach((function(n){Object(i.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=new b.a(4).format(),j=new WebSocket("wss://connect.websocket.in/PlanningPokerApp?room_id=Demo"),k=function(e,n){var t={type:r.CurrentValue,clientId:w,name:e,value:n};j.send(JSON.stringify(t))};window.onunload=function(){j.send(JSON.stringify({type:r.Leave,clientId:w}))};var E=function(){var e=Object(a.useState)(!0),n=Object(u.a)(e,2),t=n[0],c=n[1],l=Object(a.useState)(Object(i.a)({},w,{name:localStorage.getItem("name")||"",value:void 0})),s=Object(u.a)(l,2),v=s[0],m=s[1],b=v[w],p=b.name,O=b.value,E=function(e,n){k(e,n),m((function(t){return g({},t,Object(i.a)({},w,{name:e,value:n}))}))},h=function(){m((function(e){return y()(e).toPairs().reduce((function(e,n){var t=Object(u.a)(n,2),r=t[0],a=t[1];return g({},e,Object(i.a)({},r,g({},a,{value:void 0})))}),{})}))};return Object(a.useEffect)((function(){j.onopen=function(){c(!1),j.send(JSON.stringify({type:r.RequestCurrentValue})),k(p,O)},j.onmessage=function(e){var n=JSON.parse(e.data);if(n.type)switch(n.type){case r.CurrentValue:m((function(e){return g({},e,Object(i.a)({},n.clientId,{name:n.name,value:n.value}))}));break;case r.Leave:var t=n.clientId,a=y()(v).toPairs().filter((function(e){return Object(u.a)(e,1)[0]!==t})).reduce((function(e,n){var t=Object(u.a)(n,2),r=t[0],a=t[1];return g({},e,Object(i.a)({},r,g({},a,{value:void 0})))}),{});m(a);break;case r.RequestCurrentValue:k(p,O);break;case r.Reset:h();break;default:return}},j.onclose=function(e){}}),[p,v,O]),t?o.a.createElement("header",null,"Loading ..."):o.a.createElement("div",{className:"App"},o.a.createElement("div",{style:{flexDirection:"row",margin:16}},o.a.createElement("label",null,"Dein Name:",o.a.createElement("input",{style:{marginLeft:16},value:p,onChange:function(e){var n=e.target.value;localStorage.setItem("name",n),E(n,O)}}))),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){j.send(JSON.stringify({type:r.Reset})),h()}},"Reset")),o.a.createElement(d,{currentSelection:O,onClick:function(e){return E(p,e)}}),o.a.createElement(f,{ownId:w,users:v}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,n,t){e.exports=t(20)}},[[8,1,2]]]);
//# sourceMappingURL=main.af14d2c5.chunk.js.map